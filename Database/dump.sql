CREATE SCHEMA `purehtml` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin;

CREATE TABLE IF NOT EXISTS `User` (
	`Id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`Name` VARCHAR(30) NOT NULL,
	`Password` VARCHAR(30) NOT NULL
) AUTO_INCREMENT = 1, CHARSET = utf8;

CREATE TABLE IF NOT EXISTS `Account` (
	`Id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`Owner` INT UNSIGNED NOT NULL REFERENCES User(Id) ON UPDATE CASCADE ON DELETE CASCADE,
	`Balance` INT NOT NULL DEFAULT 0
) AUTO_INCREMENT = 1, CHARSET = utf8;

CREATE TABLE IF NOT EXISTS `Transfer` (
	`Id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	`OutgoingAccount` INT UNSIGNED NOT NULL REFERENCES Account(Id) ON UPDATE CASCADE ON DELETE CASCADE,
	`IngoingAccount` INT UNSIGNED NOT NULL REFERENCES Account(Id) ON UPDATE CASCADE ON DELETE CASCADE,
	`Date` DATETIME NOT NULL,
	`Amount` INT UNSIGNED NOT NULL,
	`Reason` VARCHAR(200)
) AUTO_INCREMENT = 1, CHARSET = utf8;